# 漢字語辞典作成計画

## 概要

漢字とハングルの双方向検索が可能な漢字語辞典を作成する。

## データソース

- **主要ソース**: https://www.penguin99.com/08_kanji/kanji_ichiran_jp_kr.html
  - 収録数: 3,586字
  - 形式: 日本語音読み → 韓国語漢字音 → 対応漢字
- **補完ソース**: 不足分を追加（常用漢字、TOPIK頻出漢字語など）

## 目的

- 漢字 → ハングル読みの検索
- ハングル → 漢字の検索
- 日本語読み → 漢字・ハングルの検索

## データ構造設計

### 1. 単漢字データ（hanja_characters.json）

各漢字の基本情報を格納。

```json
{
  "version": "1.0.0",
  "lastUpdated": "2025-12-08T00:00:00Z",
  "totalCharacters": 3586,
  "characters": [
    {
      "id": "hanja_0001",
      "character": "愛",
      "korean": "애",
      "japaneseOn": ["アイ"],
      "japaneseKun": ["いと.しい", "まな"],
      "meaning": "愛、愛する",
      "strokeCount": 13,
      "radical": "心",
      "level": "basic",
      "frequency": "high",
      "examples": [
        {
          "word": "사랑",
          "hanja": "愛",
          "meaning": "愛"
        }
      ]
    }
  ]
}
```

### 2. 漢字語データ（hanja_words.json）

複数の漢字で構成される熟語。

```json
{
  "version": "1.0.0",
  "lastUpdated": "2025-12-08T00:00:00Z",
  "totalWords": 5000,
  "words": [
    {
      "id": "word_0001",
      "word": "학교",
      "hanja": "學校",
      "meaning": "学校",
      "pronunciation": "학꾜",
      "level": "basic",
      "category": "education",
      "examples": [
        {
          "sentence": "학교에 가다",
          "meaning": "学校に行く"
        }
      ]
    }
  ]
}
```

### 3. 検索インデックス（hanja_index.json）

高速検索用のインデックス。

```json
{
  "byHanja": {
    "愛": ["hanja_0001"],
    "學": ["hanja_0002"]
  },
  "byKorean": {
    "애": ["hanja_0001", "hanja_0045"],
    "학": ["hanja_0002"]
  },
  "byJapanese": {
    "アイ": ["hanja_0001"],
    "ガク": ["hanja_0002"]
  }
}
```

## ディレクトリ構造

```
application/assets/hanja/
├── hanja_characters.json    # 単漢字データ（3,586字）
├── hanja_words.json         # 漢字語データ（熟語）
├── hanja_index.json         # 検索インデックス
└── hanja_categories.json    # カテゴリ分類（教育、経済、医療など）
```

## 実装計画

### Phase 1: データ収集と整理

#### 1.1 主要ソースからのデータ抽出
- penguin99.comのデータをスクレイピング/手動抽出
- 3,586字の漢字・韓国語音・日本語音の対応表作成

#### 1.2 データの補完
- 常用漢字で不足しているものを追加
- 頻出漢字語（熟語）の追加

#### 1.3 JSONファイルの作成
- hanja_characters.json: 単漢字データ
- hanja_words.json: 漢字語（熟語）データ
- hanja_index.json: 検索インデックス

### Phase 2: Flutterモデル実装

#### 2.1 データモデル作成
```
lib/features/hanja/
├── data/
│   ├── models/
│   │   ├── hanja_character.dart
│   │   ├── hanja_word.dart
│   │   └── hanja_index.dart
│   └── repositories/
│       └── hanja_repository.dart
└── domain/
    └── providers/
        └── hanja_providers.dart
```

#### 2.2 検索機能実装
- 漢字検索（部首、画数、読み）
- ハングル検索（韓国語音）
- 日本語検索（音読み）
- 意味検索

### Phase 3: UI実装

#### 3.1 画面構成
- 漢字語辞典一覧画面
- 漢字詳細画面
- 検索画面（複合検索対応）

#### 3.2 検索UI
- 検索バー（漢字/ハングル/日本語入力対応）
- フィルター（レベル、カテゴリ、画数など）
- 検索結果一覧

## データ作成の分担計画

### 担当1: ア行〜カ行（約1,200字）
- 日本語音読み: ア〜コ

### 担当2: サ行〜タ行（約1,000字）
- 日本語音読み: サ〜ト

### 担当3: ナ行〜ハ行（約800字）
- 日本語音読み: ナ〜ホ

### 担当4: マ行〜ワ行（約600字）
- 日本語音読み: マ〜ン

### 担当5: 漢字語（熟語）データ作成
- 頻出漢字語2,000〜5,000語

## 品質チェックリスト

- [ ] 全3,586字が収録されているか
- [ ] 漢字 → ハングル検索が正常に動作するか
- [ ] ハングル → 漢字検索が正常に動作するか
- [ ] 日本語読み → 漢字検索が正常に動作するか
- [ ] JSON構文エラーがないか
- [ ] 重複データがないか

## スケジュール

| フェーズ | 内容 | 期間 |
|---------|------|------|
| Phase 1.1 | データ抽出 | - |
| Phase 1.2 | データ補完 | - |
| Phase 1.3 | JSON作成 | - |
| Phase 2 | Flutterモデル実装 | - |
| Phase 3 | UI実装 | - |

## 関連ドキュメント

- `docs/21_文法辞典機能の詳細.md` - 参考：文法辞典の実装パターン
- `docs/22_文法辞典JSONファイル作成指示書.md` - 参考：JSONフォーマット

## 注意事項

1. **著作権**: penguin99.comのデータ使用について確認が必要
2. **文字コード**: UTF-8で統一
3. **漢字の異体字**: 日本の漢字と韓国の漢字（繁体字）の違いに注意
4. **同音異字**: 同じハングル読みで異なる漢字がある場合の処理
